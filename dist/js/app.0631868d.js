(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],d=0,v=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&v.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(v.length)v.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1)],1)},o=[],i={name:"App",components:{},data:function(){return{}},methods:{}},s=i,l=a("2877"),c=a("6544"),u=a.n(c),d=a("7496"),v=a("f6c4"),g=Object(l["a"])(s,n,o,!1,null,null,null),m=g.exports;u()(g,{VApp:d["a"],VMain:v["a"]});var p=a("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Header"),a("div",{staticClass:"text-center"},[a("Booking")],1),a("Footer")],1)},h=[],b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{app:"",color:"#F66156",flat:"","elevate-on-scroll":""}},[a("v-avatar",{staticClass:"d-flex align-center",attrs:{dark:""},on:{click:e.home}},[a("v-icon",{attrs:{"x-large":"",dark:""}},[e._v("mdi-stethoscope")])],1),a("v-spacer"),a("v-btn",{attrs:{text:""}},[a("Login")],1)],1)},_=[],x=(a("b0c0"),a("caad"),a("2532"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isSignIn&&e.user_image?[a("div",[a("div",{staticClass:"text-center"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[e.image?a("v-avatar",e._g(e._b({staticClass:"d-flex align-center"},"v-avatar",n,!1),r),[a("img",{attrs:{src:e.image,alt:"User"}}),e._t("default")],2):e._e()]}}],null,!0)},[a("v-card",{attrs:{width:"200px"}},[a("v-list",[a("v-list-item",{attrs:{link:""},on:{click:e.logout}},[a("v-btn",{staticClass:"d-flex align-center",attrs:{text:""}},[a("v-icon",[e._v("mdi-logout")])],1),a("v-list-item-title",[e._v(" Logout ")])],1)],1)],1)],1)],1)])]:[a("v-dialog",{attrs:{"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("div",[a("v-btn",e._g(e._b({staticClass:"d-flex align-center",attrs:{dark:"",outlined:""}},"v-btn",n,!1),r),[e._v(" Login ")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-tabs",{attrs:{dark:"","background-color":"#7E4875",grow:"",flat:"","slider-color":"#ED7B22"}},[a("v-tab",[e._v(" Login ")]),a("v-tab-item",[a("v-card-title",{staticClass:"justify-center text-h4"},[a("v-icon",{attrs:{"x-large":"",color:"primary"}},[e._v("mdi-account-circle-outline")])],1),a("v-slide-x-transition",[e.errorM?a("div",[a("v-card-title",{staticClass:"justify-center text-h4"},[a("v-chip",{attrs:{color:"red",outlined:"",label:"",close:""},on:{"click:close":function(t){return e.removeError()}}},[e._v(" "+e._s(e.errorM))])],1)],1):e._e()]),a("v-container",{staticClass:"justify-center"},[a("v-row",{attrs:{justify:"center",align:"center",dense:""}},[a("v-col",{attrs:{cols:"auto"}},[a("v-chip",{staticClass:"ma-2",attrs:{color:"#f24b29",outlined:""},on:{click:function(t){return e.googleLogin()}}},[e._v(" Login with "),a("v-icon",{attrs:{right:"",color:"#f24b29"}},[e._v(" mdi-google ")])],1)],1),a("v-col",{attrs:{cols:"auto"}},[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary",outlined:""},on:{click:e.fbLogin}},[e._v(" Login with "),a("v-icon",{attrs:{right:""}},[e._v(" mdi-facebook ")])],1)],1)],1)],1)],1)],1)],1)],1)]],2)}),w=[],k=a("1da1"),V=(a("96cf"),a("bc3a")),y=a.n(V),I="https://colab-booking.herokuapp.com/api/login/",C=function(e,t){y.a.post(I,{name:e,email:t}).then((function(e){console.log(e)}))},S=C,E={name:"Login",components:{},props:{},data:function(){return{dialog:!1,errorM:"",user_image:"",isSignIn:!1}},computed:{image:function(){return this.user_image}},methods:{googleLogin:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,i,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$gAuth.signIn();case 3:if(a=t.sent,a){t.next=6;break}return t.abrupt("return",null);case 6:r=a.getBasicProfile().getGivenName(),n=a.getBasicProfile().getEmail(),o=a.getBasicProfile().getImageUrl(),i={userName:r,userEmail:n,userImage:o},s=JSON.stringify(i),localStorage.setItem("profile",s),l=JSON.parse(localStorage.getItem("profile")),e.user_image=l.userImage,S(r,n),console.log("googleUser name",r),console.log("googleUser email",n),console.log("googleUser image",o),e.dialog=!1,e.isSignIn=!0,t.next=27;break;case 22:return t.prev=22,t.t0=t["catch"](0),console.error(t.t0),e.errorM=t.t0.error,t.abrupt("return",null);case 27:case"end":return t.stop()}}),t,null,[[0,22]])})))()},fbLogin:function(){FB.login((function(e){e.authResponse?(console.log(e),FB.api("/me","GET",{fields:"id,first_name,email,picture"},(function(e){console.log(e);var t=e.first_name,a=e.email,r=e.picture.data.url,n={userName:t,userEmail:a,userImage:r},o=JSON.stringify(n);localStorage.setItem("profile",o);var i=JSON.parse(localStorage.getItem("profile"));this.user_image=i.userImage,S(t,a),this.isSignIn=!0,this.dialog=!1}))):console.log("User cancelled login or did not fully authorize.")})),this.dialog=!1,this.isSignIn=!0},logout:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:y.a.post("https://colab-booking.herokuapp.com/api/logout/",{withCredentials:!0}).then((function(t){console.log(t),e.removeItems(),e.isSignIn=!1})).catch((function(t){console.log(t),e.removeItems(),e.isSignIn=!1}));case 1:case"end":return t.stop()}}),t)})))()},removeError:function(){this.errorM=""},removeItems:function(){localStorage.removeItem("profile")}},mounted:function(){if(localStorage.getItem("profile")){this.isSignIn=!0;var e=JSON.parse(localStorage.getItem("profile"));this.user_image=e.userImage,console.log(this.user_image)}}},j=E,O=a("8212"),L=a("8336"),T=a("b0af"),M=a("99d9"),P=a("cc20"),B=a("62ad"),N=a("a523"),A=a("169a"),D=a("132d"),F=a("8860"),R=a("da13"),U=a("5d23"),$=a("e449"),J=a("0fd9"),H=a("0789"),q=a("71a3"),W=a("c671"),G=a("fe57"),z=Object(l["a"])(j,x,w,!1,null,null,null),X=z.exports;u()(z,{VAvatar:O["a"],VBtn:L["a"],VCard:T["a"],VCardTitle:M["c"],VChip:P["a"],VCol:B["a"],VContainer:N["a"],VDialog:A["a"],VIcon:D["a"],VList:F["a"],VListItem:R["a"],VListItemTitle:U["b"],VMenu:$["a"],VRow:J["a"],VSlideXTransition:H["d"],VTab:q["a"],VTabItem:W["a"],VTabs:G["a"]});var Y={name:"Header",components:{Login:X},data:function(){return{}},methods:{home:function(){Ue.push({path:"/"}).catch((function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||logError(e)}))}}},K=Y,Q=a("40dc"),Z=a("2fa4"),ee=Object(l["a"])(K,b,_,!1,null,null,null),te=ee.exports;u()(ee,{VAppBar:Q["a"],VAvatar:O["a"],VBtn:L["a"],VIcon:D["a"],VSpacer:Z["a"]});var ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{attrs:{dark:"",padless:"",app:""}},[a("v-card",{staticClass:"flex footer",attrs:{flat:"",tile:"",color:"#CCF2EF"}},[a("v-card-text",{staticClass:"py-2 white--text text-center footer"},[e._v(" "+e._s((new Date).getFullYear())+" — "),a("strong",[e._v("A.I Dev")]),a("v-btn",{staticClass:"mx-4",attrs:{color:"white",icon:"",href:"https://github.com/akadiving/booking-project",target:"_blank"}},[a("v-icon",{attrs:{"x-large":""}},[e._v(" mdi-github ")])],1)],1)],1)],1)},re=[],ne={name:"Footer"},oe=ne,ie=(a("68b3"),a("553a")),se=Object(l["a"])(oe,ae,re,!1,null,null,null),le=se.exports;u()(se,{VBtn:L["a"],VCard:T["a"],VCardText:M["b"],VFooter:ie["a"],VIcon:D["a"]});var ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"374"}},[a("template",{slot:"progress"},[a("v-progress-linear",{attrs:{color:"deep-purple",height:"10",indeterminate:""}})],1),a("v-img",{attrs:{height:"250",src:"https://cdn.vuetifyjs.com/images/cards/cooking.png"}}),a("v-card-title",[e._v("Cafe Badilico")]),a("v-card-text",[a("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[a("v-rating",{attrs:{value:4.5,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),a("div",{staticClass:"grey--text ms-4"},[e._v(" 4.5 (413) ")])],1),a("div",{staticClass:"my-4 subtitle-1"},[e._v(" $ • Italian, Cafe ")]),a("div",[e._v("Small plates, salads & sandwiches - an intimate setting with 12 indoor seats plus patio seating.")])],1),a("v-divider",{staticClass:"mx-4"}),a("v-card-title",[e._v("Tonight's availability")]),a("v-card-text",[a("v-chip-group",{attrs:{"active-class":"deep-purple accent-4 white--text",column:""}},[a("v-chip",[e._v("5:30PM")]),a("v-chip",[e._v("7:30PM")]),a("v-chip",[e._v("8:00PM")]),a("v-chip",[e._v("9:00PM")])],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"deep-purple lighten-2",text:""}},[e._v(" Reserve ")])],1)],2)},ue=[],de={name:"Booking",data:function(){return{}},methods:{}},ve=de,ge=a("ef9a"),me=a("ce7e"),pe=a("adda"),fe=a("8e36"),he=a("1d4d"),be=Object(l["a"])(ve,ce,ue,!1,null,"4b58327a",null),_e=be.exports;u()(be,{VBtn:L["a"],VCard:T["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VChip:P["a"],VChipGroup:ge["a"],VDivider:me["a"],VImg:pe["a"],VProgressLinear:fe["a"],VRating:he["a"],VRow:J["a"]});var xe={name:"Home",components:{Header:te,Footer:le,Booking:_e}},we=xe,ke=Object(l["a"])(we,f,h,!1,null,null,null),Ve=ke.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center",attrs:{id:"admin"}},[e.isSignIn?a("div",[e._v(" "+e._s(e.name)+" "),a("v-btn",{on:{click:e.logout}},[e._v(" Logout ")]),a("v-btn",{attrs:{color:"#1F7087",outlined:""},on:{click:e.home}},[a("v-icon",[e._v(" mdi-home ")]),e._v(" Home ")],1),a("v-container",[a("Users")],1),a("v-container",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.schedule,"items-per-page":10,loading:"","loading-text":"Loading... Please wait"}})],1)],1):a("div",[a("v-dialog",{attrs:{"max-width":"290",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-tabs",{attrs:{dark:"","background-color":"#7E4875",grow:"",flat:"","slider-color":"#ED7B22"}},[a("v-tab",[e._v(" Login ")]),a("v-tab-item",[a("v-card-title",{staticClass:"justify-center text-h4"},[a("v-icon",{attrs:{"x-large":"",color:"#1F7087"}},[e._v("mdi-account-circle-outline")])],1),a("v-slide-x-transition",[e.errorM?a("div",[a("v-card-title",{staticClass:"justify-center text-h4"},[a("v-chip",{attrs:{color:"red",outlined:"",label:"",close:""},on:{"click:close":function(t){return e.removeError()}}},[e._v(" "+e._s(e.errorM))])],1)],1):e._e()]),a("v-form",{model:{value:e.validLogin,callback:function(t){e.validLogin=t},expression:"validLogin"}},[a("v-container",{staticClass:"justify-center"},[a("v-row",{attrs:{justify:"center",align:"center",dense:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.emailRules,placeholder:"Email",name:"email","prepend-inner-icon":"mdi-account",outlined:"",clearable:"",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.passwordRules,name:"password",placeholder:"Password","prepend-inner-icon":"mdi-lock",outlined:"",clearable:"",type:"password",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-divider"),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{attrs:{color:"#1F7087",outlined:"",block:"",disabled:!e.validLogin},on:{click:e.login}},[e._v(" Login ")])],1),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{attrs:{color:"#1F7087",outlined:"",block:""},on:{click:e.home}},[a("v-icon",[e._v(" mdi-home ")]),e._v(" Home ")],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)])},Ie=[],Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.users,"items-per-page":10,loading:"","loading-text":"Loading... Please wait"}})},Se=[],Ee={name:"Users",data:function(){return{users:[],headers:[{text:"id",align:"start",sortable:!1,value:"id"},{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Booking",value:"booking"}]}},methods:{getUsers:function(){var e=this,t="https://colab-booking.herokuapp.com/api/users/";y.a.get(t,{withCredentials:!0}).then((function(t){e.users=t.data,console.log(e.users)}))}},created:function(){this.getUsers()}},je=Ee,Oe=a("8fea"),Le=Object(l["a"])(je,Ce,Se,!1,null,"74546ec5",null),Te=Le.exports;u()(Le,{VDataTable:Oe["a"]});var Me={name:"Admin",props:{},components:{Users:Te},data:function(){return{headers:[{text:"id",align:"start",sortable:!1,value:"id"},{text:"Day",value:"day"},{text:"Time",value:"time"}],name:"",dialog:!0,errorM:"",isSignIn:!1,password:"",email:"",validLogin:!0,passwordRules:[function(e){return!!e||"Password is required"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],schedule:[]}},methods:{login:function(){var e=this;try{var t="https://colab-booking.herokuapp.com/api/admin/login/";y.a.post(t,{email:this.email,password:this.password}).then((function(t){console.log(t),"admin"===t.data.name&&(e.isSignIn=!0,e.dialog=!1,e.setWithExpiry("admin",t.data.name,36e5),e.name=e.getName("admin"),e.schedule=t.data.workTime,console.log(e.schedule))})).catch((function(t){console.log(t),e.errorM="Wrong credentials",e.isSignIn=!1,e.dialog=!0}))}catch(a){console.error(a),this.errorM=a.data,this.isSignIn=!1,this.dialog=!0}},logout:function(){localStorage.removeItem("admin"),this.isSignIn=!1,this.dialog=!0,this.email="",this.password="",this.errorM=""},home:function(){Ue.push({path:"/"}).catch((function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||logError(e)}))},removeError:function(){this.errorM=""},setWithExpiry:function(e,t,a){var r=new Date,n={value:t,expire:r.getTime()+a};localStorage.setItem(e,JSON.stringify(n))},getWithExpire:function(e){var t=localStorage.getItem(e);if(!t)return null;var a=JSON.parse(t),r=new Date;return r.getTime()>a.expire?(localStorage.removeItem(e),null):a.value},getName:function(e){var t=localStorage.getItem(e);if(!t)return null;var a=JSON.parse(t);new Date;return a.value}},mounted:function(){this.getWithExpire("admin")&&(this.isSignIn=!0,this.name=this.getName("admin"),this.dialog=!1)}},Pe=Me,Be=a("4bd4"),Ne=a("8654"),Ae=Object(l["a"])(Pe,ye,Ie,!1,null,"82316330",null),De=Ae.exports;u()(Ae,{VBtn:L["a"],VCard:T["a"],VCardTitle:M["c"],VChip:P["a"],VCol:B["a"],VContainer:N["a"],VDataTable:Oe["a"],VDialog:A["a"],VDivider:me["a"],VForm:Be["a"],VIcon:D["a"],VRow:J["a"],VSlideXTransition:H["d"],VTab:q["a"],VTabItem:W["a"],VTabs:G["a"],VTextField:Ne["a"]}),r["a"].use(p["a"]);var Fe=[{path:"/",name:"Home",component:Ve},{path:"/admin",name:"Admin",component:De}],Re=new p["a"]({mode:"history",base:"/",routes:Fe}),Ue=Re,$e=(a("d3b7"),a("2f62"));r["a"].use($e["a"]);var Je=new $e["a"].Store({state:{user:"",isAuthenticated:null},mutations:{isSignIn:function(e){e.isAuthenticated=!0}},getters:{user:function(e){return e.user},isAuthenticated:function(e){return e.isAuthenticated}},actions:{login:function(e,t,a){var r=e.commit;return new Promise((function(e,n){r("auth_request"),y.a.post(baseURL,{email:t,password:a}).then((function(t){console.log(t),r("isSignIn"),e(t)})).catch((function(e){r("auth_error"),localStorage.removeItem("profile"),n(e)}))}))}},modules:{}}),He=a("f309");r["a"].use(He["a"]);var qe=new He["a"]({}),We=a("c9bf"),Ge={clientId:"960875974003-jv24891niccnmgqb4it2bko1d11r350m.apps.googleusercontent.com",scope:"profile email",prompt:"select_account"};r["a"].use(We["a"],Ge),r["a"].config.productionTip=!1,new r["a"]({router:Ue,store:Je,vuetify:qe,render:function(e){return e(m)}}).$mount("#app")},"68b3":function(e,t,a){"use strict";a("98b5")},"98b5":function(e,t,a){}});
//# sourceMappingURL=app.0631868d.js.map